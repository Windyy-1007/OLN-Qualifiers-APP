<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Website</title>
    <link rel="stylesheet" href="index.css">
</head>
    <body style="background-color: black;">
        <!--Question-->
        <video class="video" src="video/6.mp4" controls></video>
        <div class="exam-section">
        <!--Answer form-->
        <form>
        <form action="submit.php" method="POST">
            <label class="label" for="answer">Đáp án:</label>
            <input class="answer" type="text" id="answer" name="answer" required>
            <label class="display-ans" for="answer" style="padding-left: 10px">---</label>
        </form>

        <script>
            document.querySelector('form').addEventListener('submit', function(event) {
            event.preventDefault();
            var answer = document.querySelector('.answer').value;
            var time_submit = document.querySelector('#timer').textContent;
            var displayAns = document.querySelector('.display-ans');
            var displayTime = document.querySelector('.display-time');
    
            displayAns.textContent = answer + ' || Thời gian: ' + time_submit;
            document.querySelector('.answer').value = '';
            displayTime.textContent = time_submit;
        });
        </script>

        <!--Timer-->
        <div>
            <h2 class="label" id="timer" style="color:aliceblue;">00:00.00</h2>
            <button class="jpc-button" id="startButton">Bắt đầu</button>
            <button class="jpc-button" id="pauseButton">Tạm dừng</button>
            <a href="Question7.html" class="jpc-button" style="padding-left: 30px; padding-right: 30px">Câu kế tiếp</a>
        </div>
        
        <!--Script for timer-->

        <script>
            var timerInterval;
            var startTime;
            var elapsedTime = 0;
            var timerElement = document.getElementById('timer');
            var startButton = document.getElementById('startButton');
            var pauseButton = document.getElementById('pauseButton');

            function startTimer() {
                startTime = Date.now() - elapsedTime;
                timerInterval = setInterval(updateTimer, 10);
                startButton.disabled = true;
                pauseButton.disabled = false;
            }

            function pauseTimer() {
                clearInterval(timerInterval);
                startButton.disabled = false;
                pauseButton.disabled = true;
            }

            function updateTimer() {
                var currentTime = Date.now();
                elapsedTime = currentTime - startTime;
                var minutes = Math.floor(elapsedTime / 60000);
                var seconds = Math.floor((elapsedTime % 60000) / 1000);
                var milliseconds = Math.floor((elapsedTime % 1000) / 10);
                timerElement.textContent = formatTime(minutes) + ':' + formatTime(seconds) + '.' + formatTime(milliseconds);
            }

            function formatTime(time) {
                return time.toString().padStart(2, '0');
            }

            startButton.addEventListener('click', startTimer);
            pauseButton.addEventListener('click', pauseTimer);
            var video = document.querySelector('.video');

            function startTimer() {
                startTime = Date.now() - elapsedTime;
                timerInterval = setInterval(updateTimer, 10);
                startButton.disabled = true;
                pauseButton.disabled = false;
                video.play();
            }
            function pauseTimer() {
                clearInterval(timerInterval);
                startButton.disabled = false;
                pauseButton.disabled = true;
                video.pause(); 
            }
        </script>
    </body>
</html>